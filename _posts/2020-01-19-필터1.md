---
title: "Opencv 필터"
categories: 
  - blogging
last_modified_at: 2020-01-19T13:00:00+09:00
toc: true
---
# **Gaussian Filter, Bilateral Filter, Median Filter**
이 세 필터는 모두 이미지를 부드럽게 만드는, 즉 블러링(blurring) or smoothing에 사용되는 대표적인 필터들이다.
블러링을 하는 이유는 여러가지가 있지만, 여기서는 노이즈 제거하는 것에 초점을 맞춘다. 

## ** Gaussian Filter**
현재 픽셀값과 주변 이웃 픽셀값들의 가중 평균(weighted average)을 이용해서 현재 픽셀의 값을 대체한다.
현재 픽셀에서 가까울수록 더 큰 가중치를 갖고 멀수록 더 작은 가중치를 갖는다. 가우시안 필터는 이미지는 공간적으로 천천히 변하기 때문에 가까이 있는 픽셀들은 비슷한 값들을 갖는다는 사실에 기반하여 만들어졌다.
그래서 노이즈 값은 상대적으로 이웃 픽셀들 값과 상관성이 작기 때문에 이웃 픽셀값들의 가중 평균의 방식으로 완화시킬 수 있다. 하지만 엣지(edge)와 같이 공간적으로 급변하는 부분에서는 단점을 보인다. 엣지도 무뎌진다.
이것도 사실 가우시안 필터의 중요한 장점이기도 하지만, 노이즈 제거의 목적에서는 단점이다. 노이즈는 제거하면서도 엣지 정보는 그대로 유지해야하기 때문이다.
이점을 보완하기 위해 Bilateral 필터가 나왔다.

## **Bilateral Filter**
Bilateral 필터는 엣지를 보존하면서 노이즈를 제거하는 비선형 필터다. 각 픽셀에서의 세기값은 주변 픽셀값의 가중평균으로 대체된다. 여기서 가중치는 현재 픽셀과 이웃하는 픽셀 사이의 유클리디안 거리 뿐만 아니라, radiometric 차이(예를 들어, 색깔 강도와 깊이 거리 등과 같은 range 차이들)와도 연관된다. 좀 더 쉽게 말하면, 현재 픽셀과 이웃하는 픽셀 사이의 거리와 픽셀값의 차이를 동시에 가중치에 반영한다. 픽셀 사이의 거리만을 가중치에 반영하는 가우시안 필터의 좀 더 발전된 버전이라 생각할 수 있다.

## **Median Filter**
미디안 필터는 각 픽셀값을 이웃하는 픽셀들의 미디안 값으로 대체한다. 결과적으로 이미지가 부드러워진다.
